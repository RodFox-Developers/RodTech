<nav class="navbar navbar-expand-lg navbar-dark bg fixed-top">
  <div class="container">
    <a class="navbar-brand" [routerLink]="['/']" routerLinkActive="router-link-active" >
      <img class="logo" src="/assets/images/logo_transparent.png" alt="logo">
    </a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav">
        <li class="nav-item ml-5">
          <a class="nav-link" [routerLink]="['/']" routerLinkActive="router-link-active">
            Home
          </a>
        </li>
        <li class="nav-item dropdown mx-5">
          <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Products
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown" style="width: 300px;">
            <app-product-filter></app-product-filter>
          </div>
        </li>
      </ul>
      <ul class="navbar-nav ml-auto">
        <li class="nav-item mx-5">
          <a class="nav-link" [routerLink]="['/shopping-cart']" routerLinkActive="router-link-active">
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-cart4" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zM8 8H6v2h2V8zM5 8H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"/>
            </svg>
            <span class="badge badge-pill badge-warning px-2 mx-1">
              {{ totalItemsQuantity }}
            </span>
          </a>
        </li>
        <ng-template #noUser>
          <li class="nav-item">
            <a class="nav-link" [routerLink]="['/login']" routerLinkActive="router-link-active">Login</a>
          </li>
          <li class="nav-item ml-3">
            <a class="nav-link" [routerLink]="['/signup']" routerLinkActive="router-link-active">Sign Up</a>
          </li>
        </ng-template>
        <li *ngIf="appUser; else noUser" class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            {{ appUser.name }}
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" [routerLink]="['/my-orders']">My orders</a>
            <ng-container *ngIf="appUser.userRole === 'admin'" >
              <a class="dropdown-item" [routerLink]="['/admin/orders']">Manage orders</a>
              <a class="dropdown-item" [routerLink]="['/admin/products']">Manage products</a>
            </ng-container>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" (click)="onLogout()">Log Out</a>
          </div>
        </li>
      </ul>
    </div>
  </div>

</nav>
